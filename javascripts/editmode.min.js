var debounce=function(t,e,n){var o;return function(){var i=this,s=arguments,r=n&&!o;clearTimeout(o),o=setTimeout(function(){o=null,n||t.apply(i,s)},e),r&&t.apply(i,s)}},initSettingsEditorBtn=function(){window.addEventListener("DOMContentLoaded",function(t){var e=document.querySelector(".edy-next-shadowdom").shadowRoot,n=setInterval(function(){if(e.querySelectorAll('div[class^="toolbar__"]').length){var t=e.querySelector('div[class^="toolbar-expand"]'),o=e.querySelector('div[class^="toolbar__"]'),i=document.querySelector(".js-layout_settings-btn"),s=e.querySelector('div[class^="toolbar-content-item__"]');i.className=s.className+" "+i.className,o.insertBefore(i,t),e.querySelector(".js-layout_settings-btn").addEventListener("click",function(t){document.querySelector("body").classList.contains("layout_settings-visible")&&(document.querySelector("div.editor_default").style.display="none"),document.querySelector("body").classList.toggle("layout_settings-visible"),t.stopImmediatePropagation()});var r=function(){var t=$(".js-layout_settings-popover"),e=$(".layout_settings-arrow");$(window).width()>768?(t.css({right:window.innerWidth-i.getBoundingClientRect().right-t.width()/2}),e.css({right:t.width()/2})):(t.css({right:0}),e.css({right:72}))};$(window).resize(debounce(function(){r()},25)),r(),clearInterval(n)}},500);$("body").append($(".js-layout_settings-popover"))})},handleProductImageClick=function(t){$(".product-content .product-image").click(function(){window.open("/admin/ecommerce/products/"+t,"_blank").focus()})};window.site=$.extend(window.site||{},{initSettingsEditorBtn:initSettingsEditorBtn,handleProductImageClick:handleProductImageClick});